<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Welcome to Shise's notebook. This site serves as a personal knowledge base for me to record my thoughts and ideas. It is also a place for me to share my knowledge and experience with the world. I hope you find something useful here. "><meta name=author content=ShiSeAB><link href=https://shiseab.github.io/notebook/essays/DeepSeek-R1/ rel=canonical><link href=../../nlp/Deep%20Learning%20Basic/ rel=prev><link href=../TokenSkip/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>DeepSeek-R1 - ShiSeçš„notebook</title><link rel=stylesheet href=../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"LXGW WenKai Screen";--md-code-font:"JetBrains Mono"}</style><link rel=stylesheet href=../../css/timeline.css><link rel=stylesheet href=https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css><link rel=stylesheet href=https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css><link rel=stylesheet href=https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css><link rel=stylesheet href=../../css/custom.css><link rel=stylesheet href=../../css/card.css><link rel=stylesheet href=../../css/tasklist.css><link rel=stylesheet href=../../css/flink.css><link rel=stylesheet href=../../css/more_changelog.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=brown data-md-color-accent=brown> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#deepseek-r1 class=md-skip> è·³è½¬è‡³ </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=é¡µçœ‰> <a href=../.. title=ShiSeçš„notebook class="md-header__button md-logo" aria-label=ShiSeçš„notebook data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ShiSeçš„notebook </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> DeepSeek-R1 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=brown data-md-color-accent=brown aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=æœç´¢ placeholder=æœç´¢ autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=æŸ¥æ‰¾> <button type=reset class="md-search__icon md-icon" title=æ¸…ç©ºå½“å‰å†…å®¹ aria-label=æ¸…ç©ºå½“å‰å†…å®¹ tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“ </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ShiSeAB/notebook.git/ title=å‰å¾€ä»“åº“ class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> ShiSeAB/notebook </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=æ ‡ç­¾ data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> HOME </a> </li> <li class=md-tabs__item> <a href=../../RL/basic_1/ class=md-tabs__link> AI </a> </li> <li class=md-tabs__item> <a href=../../Compiler/Lexical_Analysis/ class=md-tabs__link> CSè¯¾ç¨‹ </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> è®ºæ–‡é˜…è¯» </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=å¯¼èˆªæ  data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=ShiSeçš„notebook class="md-nav__button md-logo" aria-label=ShiSeçš„notebook data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> ShiSeçš„notebook </label> <div class=md-nav__source> <a href=https://github.com/ShiSeAB/notebook.git/ title=å‰å¾€ä»“åº“ class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> ShiSeAB/notebook </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> HOME </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> HOME </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> AI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> AI </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> å¼ºåŒ–å­¦ä¹  </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> å¼ºåŒ–å­¦ä¹  </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../RL/basic_1/ class=md-nav__link> <span class=md-ellipsis> åŸºç¡€çŸ¥è¯† </span> </a> </li> <li class=md-nav__item> <a href=../../RL/TRPO/ class=md-nav__link> <span class=md-ellipsis> TRPO </span> </a> </li> <li class=md-nav__item> <a href=../../RL/PPO/ class=md-nav__link> <span class=md-ellipsis> PPO </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> æ·±åº¦å­¦ä¹  </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> æ·±åº¦å­¦ä¹  </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../DeepLearning/Convolution/ class=md-nav__link> <span class=md-ellipsis> å·ç§¯ç¥ç»ç½‘ç»œ </span> </a> </li> <li class=md-nav__item> <a href=../../DeepLearning/Modern%20CNN/ class=md-nav__link> <span class=md-ellipsis> ç°ä»£å·ç§¯ç¥ç»ç½‘ç»œæ¶æ„ </span> </a> </li> <li class=md-nav__item> <a href=../../DeepLearning/Recurrent%20neural%20network/ class=md-nav__link> <span class=md-ellipsis> å¾ªç¯ç¥ç»ç½‘ç»œ </span> </a> </li> <li class=md-nav__item> <a href=../../DeepLearning/Modern%20RNN/ class=md-nav__link> <span class=md-ellipsis> ç°ä»£å¾ªç¯ç¥ç»ç½‘ç»œ </span> </a> </li> <li class=md-nav__item> <a href="../../DeepLearning/Attention Mechanisms" class=md-nav__link> <span class=md-ellipsis> æ³¨æ„åŠ›æœºåˆ¶ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> CSè¯¾ç¨‹ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> CSè¯¾ç¨‹ </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> ç¼–è¯‘åŸç† </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> ç¼–è¯‘åŸç† </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Compiler/Lexical_Analysis/ class=md-nav__link> <span class=md-ellipsis> è¯æ³•åˆ†æ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_2> <label class=md-nav__link for=__nav_3_1_2 id=__nav_3_1_2_label tabindex=0> <span class=md-ellipsis> è¯­æ³•åˆ†æ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1_2> <span class="md-nav__icon md-icon"></span> è¯­æ³•åˆ†æ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Compiler/Parsing/ class=md-nav__link> <span class=md-ellipsis> Top-Down </span> </a> </li> <li class=md-nav__item> <a href=../../Compiler/Parsing-2/ class=md-nav__link> <span class=md-ellipsis> Bottom-Up </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../Compiler/Abstract_Syntax/ class=md-nav__link> <span class=md-ellipsis> æŠ½è±¡è¯­æ³• </span> </a> </li> <li class=md-nav__item> <a href=../../Compiler/Activation_Record/ class=md-nav__link> <span class=md-ellipsis> æ´»åŠ¨è®°å½• </span> </a> </li> <li class=md-nav__item> <a href=../../Compiler/Semantic_Analysis/ class=md-nav__link> <span class=md-ellipsis> è¯­ä¹‰åˆ†æ </span> </a> </li> <li class=md-nav__item> <a href=../../Compiler/ch7-IR/ class=md-nav__link> <span class=md-ellipsis> ä¸­é—´ä»£ç ç”Ÿæˆ </span> </a> </li> <li class=md-nav__item> <a href=../../Compiler/ch8/ class=md-nav__link> <span class=md-ellipsis> åŸºæœ¬å— </span> </a> </li> <li class=md-nav__item> <a href=../../Compiler/ch9/ class=md-nav__link> <span class=md-ellipsis> æŒ‡ä»¤é€‰æ‹© </span> </a> </li> <li class=md-nav__item> <a href=../../Compiler/ch10/ class=md-nav__link> <span class=md-ellipsis> æ´»è·ƒå˜é‡åˆ†æ </span> </a> </li> <li class=md-nav__item> <a href=../../Compiler/ch11/ class=md-nav__link> <span class=md-ellipsis> å¯„å­˜å™¨åˆ†é… </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> è‡ªç„¶è¯­è¨€å¤„ç†å¯¼è®º </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> è‡ªç„¶è¯­è¨€å¤„ç†å¯¼è®º </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../nlp/Deep%20Learning%20Basic/ class=md-nav__link> <span class=md-ellipsis> æ·±åº¦å­¦ä¹ åŸºç¡€ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> è®ºæ–‡é˜…è¯» </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> è®ºæ–‡é˜…è¯» </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1 checked> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> RL </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=true> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> RL </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> DeepSeek-R1 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> DeepSeek-R1 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=ç›®å½•> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> ç›®å½• </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#r1-zero class=md-nav__link> <span class=md-ellipsis> R1-zero: </span> </a> <nav class=md-nav aria-label=R1-zero:> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rl class=md-nav__link> <span class=md-ellipsis> RLç®—æ³• </span> </a> </li> <li class=md-nav__item> <a href=#reward-modeling class=md-nav__link> <span class=md-ellipsis> Reward Modeling </span> </a> </li> <li class=md-nav__item> <a href=#training-template class=md-nav__link> <span class=md-ellipsis> Training Template </span> </a> </li> <li class=md-nav__item> <a href=#performance class=md-nav__link> <span class=md-ellipsis> Performance </span> </a> </li> <li class=md-nav__item> <a href=#self-evolution-process class=md-nav__link> <span class=md-ellipsis> Self-evolution Process </span> </a> </li> <li class=md-nav__item> <a href=#aha-moment class=md-nav__link> <span class=md-ellipsis> Aha Moment </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#r1 class=md-nav__link> <span class=md-ellipsis> R1 </span> </a> <nav class=md-nav aria-label=R1> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cold-start class=md-nav__link> <span class=md-ellipsis> Cold start </span> </a> </li> <li class=md-nav__item> <a href=#reasoning-oriented-rl class=md-nav__link> <span class=md-ellipsis> Reasoning-oriented RL </span> </a> </li> <li class=md-nav__item> <a href=#rejection-sampling-and-sft class=md-nav__link> <span class=md-ellipsis> Rejection Sampling and SFT </span> </a> </li> <li class=md-nav__item> <a href=#rl-for-all-scenarios class=md-nav__link> <span class=md-ellipsis> RL for all Scenarios </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#distillation class=md-nav__link> <span class=md-ellipsis> Distillation </span> </a> </li> <li class=md-nav__item> <a href=#discussiondistillation-vs-rl class=md-nav__link> <span class=md-ellipsis> Discussionï¼šDistillation vs RL </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> CoT </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> CoT </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../TokenSkip/ class=md-nav__link> <span class=md-ellipsis> TokenSkip </span> </a> </li> <li class=md-nav__item> <a href=../DEER/ class=md-nav__link> <span class=md-ellipsis> DEER </span> </a> </li> <li class=md-nav__item> <a href=../ThoughtTerminator/ class=md-nav__link> <span class=md-ellipsis> ThoughtTerminator </span> </a> </li> <li class=md-nav__item> <a href=../SEAL/ class=md-nav__link> <span class=md-ellipsis> SEAL </span> </a> </li> <li class=md-nav__item> <a href=../MRL/ class=md-nav__link> <span class=md-ellipsis> MRT </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Social </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Social </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Social/SocialGenome/ class=md-nav__link> <span class=md-ellipsis> SocialGenome </span> </a> </li> <li class=md-nav__item> <a href=../Social/MiMeQA/ class=md-nav__link> <span class=md-ellipsis> MiMeQA </span> </a> </li> <li class=md-nav__item> <a href=../Social/EgoToM/ class=md-nav__link> <span class=md-ellipsis> EgoToM </span> </a> </li> <li class=md-nav__item> <a href=../Social/Text-Social%20Benchmark/ class=md-nav__link> <span class=md-ellipsis> TextSocial </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=ç›®å½•> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> ç›®å½• </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#r1-zero class=md-nav__link> <span class=md-ellipsis> R1-zero: </span> </a> <nav class=md-nav aria-label=R1-zero:> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rl class=md-nav__link> <span class=md-ellipsis> RLç®—æ³• </span> </a> </li> <li class=md-nav__item> <a href=#reward-modeling class=md-nav__link> <span class=md-ellipsis> Reward Modeling </span> </a> </li> <li class=md-nav__item> <a href=#training-template class=md-nav__link> <span class=md-ellipsis> Training Template </span> </a> </li> <li class=md-nav__item> <a href=#performance class=md-nav__link> <span class=md-ellipsis> Performance </span> </a> </li> <li class=md-nav__item> <a href=#self-evolution-process class=md-nav__link> <span class=md-ellipsis> Self-evolution Process </span> </a> </li> <li class=md-nav__item> <a href=#aha-moment class=md-nav__link> <span class=md-ellipsis> Aha Moment </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#r1 class=md-nav__link> <span class=md-ellipsis> R1 </span> </a> <nav class=md-nav aria-label=R1> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cold-start class=md-nav__link> <span class=md-ellipsis> Cold start </span> </a> </li> <li class=md-nav__item> <a href=#reasoning-oriented-rl class=md-nav__link> <span class=md-ellipsis> Reasoning-oriented RL </span> </a> </li> <li class=md-nav__item> <a href=#rejection-sampling-and-sft class=md-nav__link> <span class=md-ellipsis> Rejection Sampling and SFT </span> </a> </li> <li class=md-nav__item> <a href=#rl-for-all-scenarios class=md-nav__link> <span class=md-ellipsis> RL for all Scenarios </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#distillation class=md-nav__link> <span class=md-ellipsis> Distillation </span> </a> </li> <li class=md-nav__item> <a href=#discussiondistillation-vs-rl class=md-nav__link> <span class=md-ellipsis> Discussionï¼šDistillation vs RL </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=deepseek-r1>DeepSeek-R1<a class=headerlink href=#deepseek-r1 title="Permanent link">&para;</a></h1> <ul> <li>R1-zero ä¸å°†SFT(è®ºæ–‡ï¼šinstruct-GPT RLHF)ä½œä¸ºåˆå§‹æ­¥éª¤ï¼Œä½†æ¨ç†æ•ˆæœè‰¯å¥½ï¼Œä¸è¿‡ä¼šæœ‰å¯è¯»æ€§å·®ã€è¯­è¨€æ··æ‚ç­‰é—®é¢˜ï¼Œæ•…å¼•å…¥R1</li> </ul> <blockquote> <p>SFT(supervised fine-tuning)ç›‘ç£å¾®è°ƒï¼Œä¸ºäº†ä½¿LLMsç”Ÿæˆç¬¦åˆäººç±»åå¥½çš„ç­”æ¡ˆï¼Œåˆ©ç”¨å¤§é‡åŒ…å«è¾“å…¥ä¸å¯¹åº”æ­£ç¡®è¾“å‡ºçš„æ ‡æ³¨æ•°æ®å¯¹é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œå¾®è°ƒï¼Œç¼ºç‚¹ï¼šä¾èµ–å¤§é‡äººä¸ºæ ‡æ³¨æ•°æ®ï¼Œä¸”éš¾ä»¥è¦†ç›–é•¿é“¾ã€å¤šæ­¥æ¨ç†åœºæ™¯</p> </blockquote> <ul> <li>R1 é€šè¿‡é‡‡ç”¨multi-stage training and cold-start data before RLï¼Œè¿›ä¸€æ­¥æé«˜äº†æ¨ç†æ€§èƒ½ã€‚</li> </ul> <p>ä¸€äº›å‰ç½®çŸ¥è¯†ï¼š</p> <ul> <li>Post-trainingåè®­ç»ƒï¼šå¯æé«˜æ¨ç†ä»»åŠ¡å‡†ç¡®æ€§ï¼Œä¸”ä½¿æ¨¡å‹ç¬¦åˆç¤¾ä¼šä¸»ä¹‰ä»·å€¼è§‚å¹¶é€‚åº”ç”¨æˆ·åå¥½ã€‚ä¸pre-trainingç›¸æ¯”æ‰€éœ€è®¡ç®—èµ„æºç›¸å¯¹è¾ƒå°‘</li> <li> <p>OpenAIçš„o1é€šè¿‡å¢åŠ CoTçš„é•¿åº¦æ¥å¼•å…¥ inference-time scaling(æ¨ç†æ—¶ç¼©æ”¾ï¼Ÿ)ï¼Œä½¿å¾—æ¨¡å‹åœ¨æ¨ç†ä»»åŠ¡ä¸­å–å¾—æ˜¾è‘—æ”¹è¿›ï¼Œä½†ç›®å‰æ— äººå¤ç°æˆåŠŸ</p> </li> <li> <p>æç¤ºè¯å·¥ç¨‹ï¼š</p> </li> <li> <p>Zero-Shot Prompting: One Foundation Model -&gt; Prompting -&gt; Different tasks. åªé—®é—®é¢˜ï¼Œä¸æä¾›ä¾‹å­</p> </li> <li> <p>Few-Shot Prompting: By providing few examples, the LLMs can perform a new task even it is not trained on it (in-context learning). ç»™ä¾‹å­ï¼Œä½¿å¾—å¤§æ¨¡å‹å¯ä»¥å‚ç…§</p> </li> <li> <p>Chain-of-Thought Prompting: enable complex reasoning capabilities through intermediate reasoning steps. é€šè¿‡åœ¨ä¾‹å­ä¸­ä½“ç°æ€ç»´é“¾æ¥æé«˜å¤§æ¨¡å‹å‡†ç¡®æ€§</p> </li> <li> <p>å¼ºåŒ–å­¦ä¹ ï¼Ÿ</p> </li> </ul> <h2 id=r1-zero>R1-zero:<a class=headerlink href=#r1-zero title="Permanent link">&para;</a></h2> <p>éªŒè¯ï¼šèƒ½å¦ä»…é€šè¿‡å¼ºåŒ–å­¦ä¹ ï¼ˆæ— éœ€ç›‘ç£å¾®è°ƒï¼‰æ¿€åŠ±LLMsçš„æ¨ç†èƒ½åŠ›ï¼Œself-evolution through a pure PL process - V3-base ä½œä¸º base modelï¼Œé‡‡ç”¨GRPOä½œä¸º RL framework æ¥æé«˜æ¨ç†æ€§èƒ½</p> <h3 id=rl>RLç®—æ³•<a class=headerlink href=#rl title="Permanent link">&para;</a></h3> <p>é€šè¿‡å¼ºåŒ–å­¦ä¹ ç›´æ¥å¯¹åŸºç¡€æ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œé‡‡ç”¨ Group Relative Policy Optimization(GRPO Shao et al.,2024) ä½œä¸ºå¼ºåŒ–å­¦ä¹ ç®—æ³•ã€‚GRPOç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡é‡‡æ ·ä¸€ç»„è¾“å‡ºï¼Œè®¡ç®—è¿™äº›è¾“å‡ºçš„å¥–åŠ±ï¼Œå¹¶æ ¹æ®å¥–åŠ±çš„ç›¸å¯¹å€¼æ¥æ›´æ–°æ¨¡å‹å‚æ•°ã€‚ä»¥group scoreæ¥ä¼°è®¡baseline(å…¬å¼çœ‹ä¸æ‡‚â€¦â€¦)</p> <p><img alt=image-20250330172127282 src=../DeepSeek-R1.assets/image-20250330172127282.png></p> <p>æ¨ç†è¿‡ç¨‹å’Œç­”æ¡ˆåˆ†åˆ«åœ¨ <think></think> å’Œ<answer></answer>æ ‡ç­¾å†…ã€‚</p> <h3 id=reward-modeling>Reward Modeling<a class=headerlink href=#reward-modeling title="Permanent link">&para;</a></h3> <p>é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯å¥–åŠ±æ¨¡å‹ï¼Ÿ-- ç”¨äºæ‰“åˆ†è¯„ä¼°å¤§æ¨¡å‹çš„å›ç­”ï¼Œæ®æ­¤æ›´æ–°ç­–ç•¥ã€‚ä¾‹å¦‚åœ¨RLHFä¸­ï¼š</p> <p><img alt=image-20250330173056477 src=../DeepSeek-R1.assets/image-20250330173056477.png></p> <ul> <li>step 1: ä»æ•°æ®é›†ä¸­é‡‡æ · promptï¼ŒåŒæ—¶äººå·¥å†™å‡ºå¸Œæœ›çš„ç­”æ¡ˆä½œä¸º ground truthï¼Œå¾®è°ƒ</li> <li>step2: é‡‡æ · promptï¼Œé€åˆ° SFT åçš„æ¨¡å‹è¿›è¡Œç”Ÿæˆï¼Œå¾—åˆ°å¤šä¸ªç­”æ¡ˆã€‚ç”±äººå·¥æ ‡æ³¨ï¼Œå¯¹ç”Ÿæˆçš„ç­”æ¡ˆè¿›è¡Œæ’åºï¼Œè®­ç»ƒä¸€ä¸ª reward modelã€‚</li> <li>step3: é‡‡æ · promptï¼Œé‡‡ç”¨ PPO è¿›è¡Œå¼ºåŒ–å­¦ä¹ ï¼Œæ¨¡å‹ç”Ÿæˆç­”æ¡ˆå¹¶å¾—åˆ° reward model çš„æ‰“åˆ†ï¼Œä»¥æ­¤æ›´æ–°ã€‚</li> </ul> <p>ä¸ºäº†è®­ç»ƒR1-zeroï¼Œé‡‡ç”¨ rule-based reward system ï¼Œè¯¥ç³»ç»Ÿä¸»è¦ç”±2ç§ç±»å‹çš„rewardæ„æˆï¼š</p> <ul> <li>Accuracy reward: è¯„ä¼°å›ç­”æ˜¯å¦æ­£ç¡®</li> <li>Format rewards: å¼ºåˆ¶è¦æ±‚æ¨¡å‹å°†å…¶æ€è€ƒè¿‡ç¨‹ç½®äº â€œ<think>â€ å’Œ â€œ</think>â€ æ ‡ç­¾ä¹‹é—´</li> </ul> <p>ä¸é‡‡ç”¨ outcome or process neural reward model ï¼Œå› ä¸º neural reward model åœ¨large-scale RLè¿‡ç¨‹ä¸­å¯èƒ½å— reward hackingå½±å“ï¼Œè€Œé‡æ–°è®­ç»ƒè€—è´¹å¤§é‡èµ„æº</p> <h3 id=training-template>Training Template<a class=headerlink href=#training-template title="Permanent link">&para;</a></h3> <p>è®¾è®¡ä¸€ä¸ªç®€å•æ¨¡æ¿ï¼ˆTable 1ï¼‰ï¼Œç”¨äºå¼•å¯¼ base model éµå¾ªæŒ‡å®šæŒ‡ä»¤ã€‚æ¨¡æ¿è¦æ±‚ R1-zero é¦–å…ˆç”Ÿæˆä¸€ä¸ª <strong>æ¨ç†è¿‡ç¨‹</strong> ï¼Œç„¶åç»™å‡ºæœ€ç»ˆç­”æ¡ˆã€‚è¯¥æ¨¡æ¿é¿å…äº†ä»»ä½•çš„ content-specific biasesï¼ˆmandating reflective reasoning or prompting particular problem-solving strategiesï¼‰ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨å¼ºåŒ–å­¦ä¹ è¿‡ç¨‹ä¸­å‡†ç¡®è§‚å¯Ÿåˆ°æ¨¡å‹çš„è‡ªç„¶æ¼”è¿›è¿‡ç¨‹ã€‚</p> <h3 id=performance>Performance<a class=headerlink href=#performance title="Permanent link">&para;</a></h3> <p>â€¦â€¦</p> <p>æ— éœ€ä»»ä½•ç›‘ç£å¾®è°ƒæ•°æ®çš„æƒ…å†µä¸‹è·å¾—å¼ºå¤§çš„æ¨ç†èƒ½åŠ›</p> <p>åŒæ—¶é€šè¿‡ majority voting è¿›ä¸€æ­¥æå‡æ€§èƒ½</p> <h3 id=self-evolution-process>Self-evolution Process<a class=headerlink href=#self-evolution-process title="Permanent link">&para;</a></h3> <p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ extended test-time computation ï¼Œè·å¾—äº†è§£å†³è¶Šæ¥è¶Šå¤æ‚çš„æ¨ç†ä»»åŠ¡çš„èƒ½åŠ›ã€‚computationä¸­ï¼Œç”Ÿæˆæ•°ç™¾åˆ°æ•°åƒä¸ªæ¨ç†tokensï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿæ›´æ·±å…¥åœ°æ¢ç´¢å’Œå®Œå–„å…¶æ€ç»´è¿‡ç¨‹ã€‚</p> <p>è¿™ç§è‡ªæˆ‘è¿›åŒ–æœ€æ˜¾è‘—çš„ç‰¹ç‚¹ä¹‹ä¸€ï¼Œå°±æ˜¯éšç€ test-time computation çš„å¢åŠ ï¼Œå¤æ‚è¡Œä¸ºå¼€å§‹å‡ºç°ã€‚ä¾‹å¦‚ reflectionï¼ˆæ¨¡å‹é‡æ–°å®¡è§†å¹¶é‡æ–°è¯„ä¼°ä¹‹å‰çš„æ­¥éª¤ï¼Œä»¥åŠè‡ªå‘æ¢ç´¢è§£å†³é—®é¢˜çš„æ›¿ä»£æ–¹æ³•ï¼‰ï¼Œè¿™äº›è¡Œä¸ºæ˜¯æ¨¡å‹ä¸RLç¯å¢ƒäº’åŠ¨çš„ç»“æœï¼Œè€Œéç¼–ç¨‹è®¾å®šã€‚</p> <h3 id=aha-moment>Aha Moment<a class=headerlink href=#aha-moment title="Permanent link">&para;</a></h3> <p>åœ¨è®­ç»ƒ DeepSeek-R1-Zero çš„è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªç‰¹åˆ«æœ‰è¶£çš„ç°è±¡æ˜¯ â€œé¡¿æ‚Ÿæ—¶åˆ»â€ çš„å‡ºç°ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼ŒDeepSeek-R1-Zero é€šè¿‡é‡æ–°è¯„ä¼°å…¶åˆå§‹æ–¹æ³•ï¼Œå­¦ä¼šä¸ºä¸€ä¸ªé—®é¢˜åˆ†é…æ›´å¤šçš„æ€è€ƒæ—¶é—´ã€‚</p> <p>å®ƒå‡¸æ˜¾äº†å¼ºåŒ–å­¦ä¹ çš„å¼ºå¤§åŠ›é‡å’Œé­…åŠ›ï¼šæˆ‘ä»¬æ— éœ€æ˜ç¡®æ•™å¯¼æ¨¡å‹å¦‚ä½•è§£å†³é—®é¢˜ï¼Œåªéœ€ä¸ºå®ƒæä¾›æ­£ç¡®çš„æ¿€åŠ±ï¼Œå®ƒå°±èƒ½è‡ªä¸»å¼€å‘å‡ºå…ˆè¿›çš„é—®é¢˜è§£å†³ç­–ç•¥ã€‚</p> <p><img alt=image-20250331143211919 src=../DeepSeek-R1.assets/image-20250331143211919.png></p> <h2 id=r1>R1<a class=headerlink href=#r1 title="Permanent link">&para;</a></h2> <ul> <li>é¦–å…ˆæ”¶é›† thousands of cold-start data to fine-tune the V3-base model</li> <li>æ¥ç€åƒR1-zeroä¸€æ ·æ‰§è¡Œreasoning-oriented RLï¼Œåœ¨æ¥è¿‘æ”¶æ•›æ—¶ï¼Œé€šè¿‡åœ¨ RL checkpoint è¿›è¡Œ rejection sampling ï¼Ÿæ¥åˆ›å»ºæ–°çš„SFT dataï¼Œå¹¶ç»“åˆ V3 åœ¨å†™ä½œã€äº‹å®æ€§é—®ç­”å’Œè‡ªæˆ‘è®¤çŸ¥ç­‰é¢†åŸŸçš„supervised dataï¼Œæ¥ç€retrain V3-base</li> <li>ç”¨æ–°æ•°æ®å¾®è°ƒä»¥åï¼Œè¯¥ checkpoint ä¼šå†ç»å†ä¸€æ¬¡å¼ºåŒ–å­¦ä¹ è¿‡ç¨‹ï¼ŒåŒæ—¶è€ƒè™‘æ¥è‡ªæ‰€æœ‰åœºæ™¯çš„promptã€‚</li> <li>æœ€åå¾—åˆ°çš„ checkpoint å°±æ˜¯ R1 ï¼Œè¡¨ç°ä¸o1-1217ç›¸å½“</li> </ul> <h3 id=cold-start>Cold start<a class=headerlink href=#cold-start title="Permanent link">&para;</a></h3> <p>æ„å»ºå¹¶æ”¶é›†å°‘é‡ long CoT data ç”¨äºå¾®è°ƒæ¨¡å‹ï¼Œä½¿æ¨¡å‹ä½œä¸º intial RL actor. æ”¶é›†æ•°æ®ç­–ç•¥ï¼š</p> <ul> <li>few-shot prompting with a long CoT as an exampleï¼Œä½¿æ¨¡å‹ç”Ÿæˆå¸¦ reflection ä¸ verification çš„è¯¦ç»†ç­”æ¡ˆ</li> <li>ä»¥å¯è¯»æ ¼å¼æ”¶é›† DeepSeek-R1-Zero çš„è¾“å‡ºï¼Œå¹¶é€šè¿‡äººå·¥æ ‡æ³¨å‘˜è¿›è¡Œåå¤„ç†æ¥ä¼˜åŒ–ç»“æœ</li> </ul> <p>ä¼˜åŠ¿ï¼š</p> <p>æé«˜å¯è¯»æ€§ï¼Œé€šè¿‡åœ¨cold startæ•°æ®çš„æ¯ä¸ªå›å¤æœ«å°¾åŠ å…¥ä¸€ä¸ªsummaryï¼Œå¹¶è¿‡æ»¤æ‰é reader-friendly çš„å›å¤ï¼Œæ¥è®¾è®¡ä¸€ä¸ªæ˜“è¯»æ¨¡å¼ï¼š</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>special_token|&lt;reasoning_process&gt;|special_token|&lt;summary&gt;
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>#reasoning_process æ˜¯é’ˆå¯¹queryçš„CoT
</code></pre></div> <p>ç”±æ­¤è®¤ä¸º iterative training å¯¹æ¨ç†æ¨¡å‹è€Œè¨€æ˜¯ä¸€ç§æ›´å¥½çš„æ–¹å¼</p> <h3 id=reasoning-oriented-rl>Reasoning-oriented RL<a class=headerlink href=#reasoning-oriented-rl title="Permanent link">&para;</a></h3> <p>å¾®è°ƒä»¥åï¼Œé‡‡ç”¨ä¸R1-zero ç›¸åŒçš„å¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ è®­ç»ƒè¿‡ç¨‹ï¼Œè¿™ä¸€é˜¶æ®µä¸“æ³¨äºæå‡æ¨¡å‹çš„æ¨ç†èƒ½åŠ›ï¼Œç‰¹åˆ«æ˜¯åœ¨ç¼–ç ã€æ•°å­¦ã€ç§‘å­¦å’Œé€»è¾‘æ¨ç†ç­‰æ¨ç†å¯†é›†å‹ä»»åŠ¡ä¸­ï¼Œè¿™äº›ä»»åŠ¡æ¶‰åŠå®šä¹‰æ˜ç¡®ã€æœ‰æ¸…æ™°è§£å†³æ–¹æ¡ˆçš„é—®é¢˜ã€‚</p> <p>è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œè§‚å¯Ÿåˆ°CoT å‡ºç°è¯­è¨€æ··æ‚çš„æƒ…å†µï¼Œå°¤å…¶å½“RL prompt æ¶‰åŠå¤šç§è¯­è¨€æ—¶ã€‚å¼•å…¥ language consistency reward during RL training ï¼Œé€šè¿‡è®¡ç®—æ€ç»´é“¾ä¸­ç›®æ ‡è¯­è¨€è¯æ±‡çš„æ¯”ä¾‹æ¥å¾—åˆ°rewardã€‚ablation experiments(æ¶ˆèå®éªŒ)è¡¨æ˜ï¼Œè¯¥è°ƒæ•´ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œä½†ä½¿å¾—è¾“å‡ºæ›´ç¬¦åˆäººç±»åå¥½ï¼Œä½¿è¾“å‡ºæ›´å…·å¯è¯»æ€§ã€‚</p> <p>æœ€åå°†æ¨ç†ä»»åŠ¡å‡†ç¡®æ€§å’Œlanguage consistency rewardç›¸åŠ ï¼Œå½¢æˆ final reward ï¼Œç„¶åå¯¹å¾®è°ƒæ¨¡å‹è¿›è¡ŒRLç›´åˆ°å…¶åœ¨æ¨ç†ä»»åŠ¡ä¸Šè¾¾åˆ°æ”¶æ•›ã€‚</p> <h3 id=rejection-sampling-and-sft>Rejection Sampling and SFT<a class=headerlink href=#rejection-sampling-and-sft title="Permanent link">&para;</a></h3> <p>å½“ reasoning-oriented RL æ”¶æ•›åï¼Œæˆ‘ä»¬åˆ©ç”¨ç»“æœ checkpoint æ¥æ”¶é›†ç”¨äºä¸‹ä¸€è½®è®­ç»ƒçš„ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰æ•°æ®ã€‚ä¸è¿‡è¿™éƒ¨åˆ†çš„SFTæ•°æ®ä¸»è¦èšç„¦äºæ•´åˆæ¥è‡ªå…¶ä»–é¢†åŸŸçš„æ•°æ®ï¼Œä»¥å¢å¼ºæ¨¡å‹åœ¨å†™ä½œã€è§’è‰²æ‰®æ¼”åŠå…¶ä»–é€šç”¨ä»»åŠ¡æ–¹é¢çš„èƒ½åŠ›ï¼Œä¸åƒåˆå§‹ cold-start data èšç„¦äºæ¨ç†ã€‚ç”Ÿæˆæ•°æ®å¹¶å¾®è°ƒæ¨¡å‹æ­¥éª¤å¦‚ä¸‹ï¼š</p> <ul> <li> <p>for reasoning dataï¼Œæ„å»º reasoning promptsï¼Œå¹¶å¯¹ä»ä¸Šè¿° RL è®­å‡ºçš„ checkpoint è¿›è¡Œ <strong>æ‹’ç»é‡‡æ ·</strong> ä»¥ç”Ÿæˆæ¨ç†è½¨è¿¹(trajectories)ã€‚åœ¨ä¹‹å‰çš„é˜¶æ®µï¼Œä»…ä½¿ç”¨äº†åŸºäºè§„åˆ™çš„å¥–åŠ±æ¥è¯„ä¼°æ•°æ®(?)ã€‚ç„¶è€Œï¼Œåœ¨è¿™ä¸ªé˜¶æ®µï¼Œé€šè¿‡æ·»åŠ å…¶ä»–æ•°æ®æ¥ä¸°å¯Œæ•°æ®é›†ï¼Œå…¶ä¸­éƒ¨åˆ†æ•°æ®ä½¿ç”¨ <strong>ç”Ÿæˆå¥–åŠ±æ¨¡å‹</strong> (generative reward model) by å°† ground-truth å’Œæ¨¡å‹é¢„æµ‹è¾“å…¥ DeepSeek-V3 è¿›è¡Œåˆ¤æ–­ã€‚æ­¤å¤–ï¼Œç”±äºæ¨¡å‹è¾“å‡ºæœ‰æ—¶æ··ä¹±ä¸”éš¾ä»¥é˜…è¯»ï¼Œæˆ‘ä»¬è¿‡æ»¤æ‰äº†è¯­è¨€æ··æ‚çš„æ€ç»´é“¾ã€é•¿ç¯‡æ®µè½å’Œä»£ç å—ã€‚å¯¹äºæ¯ä¸ªæç¤ºï¼Œæˆ‘ä»¬é‡‡æ ·å¤šä¸ªå›å¤ï¼Œåªä¿ç•™æ­£ç¡®çš„å›å¤ã€‚æˆ‘ä»¬æ€»å…±æ”¶é›†äº†çº¦ 600k ä¸ªä¸æ¨ç†ç›¸å…³çš„è®­ç»ƒæ ·æœ¬ã€‚</p> </li> <li> <p>for Non-reasoning dataï¼Œå¦‚å†™ä½œã€äº‹å®æ€§é—®ç­”ã€è‡ªæˆ‘è®¤çŸ¥å’Œç¿»è¯‘ç­‰ï¼Œæˆ‘ä»¬é‡‡ç”¨ DeepSeek-V3 çš„æµç¨‹ï¼Œå¹¶å¤ç”¨ DeepSeek-V3 çš„éƒ¨åˆ†ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰æ•°æ®é›†ã€‚å¯¹äºæŸäº›éæ¨ç†ä»»åŠ¡ï¼Œåœ¨é€šè¿‡æç¤ºå›ç­”é—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ DeepSeek-V3 ç”Ÿæˆä¸€ä¸ªæ½œåœ¨çš„æ€ç»´é“¾ã€‚ç„¶è€Œï¼Œå¯¹äºåƒ â€œä½ å¥½â€ è¿™æ ·ç®€å•çš„æŸ¥è¯¢ï¼Œæˆ‘ä»¬ä¸ä¼šæä¾›æ€ç»´é“¾ä½œä¸ºå›å¤ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬æ€»å…±æ”¶é›†äº†å¤§çº¦ 200k ä¸ªä¸æ¨ç†æ— å…³çš„è®­ç»ƒæ ·æœ¬ã€‚</p> </li> </ul> <p>ä½¿ç”¨ä¸Šè¿°ç²¾å¿ƒæ•´ç†çš„çº¦ 800k ä¸ªæ ·æœ¬çš„æ•°æ®é›†ï¼Œå¯¹ DeepSeek-V3-Base è¿›è¡Œäº†ä¸¤ä¸ª epoch çš„ SFTã€‚</p> <h3 id=rl-for-all-scenarios>RL for all Scenarios<a class=headerlink href=#rl-for-all-scenarios title="Permanent link">&para;</a></h3> <p>è¿™æ˜¯ç¬¬äºŒé˜¶æ®µçš„å¼ºåŒ–å­¦ä¹ ï¼Œç›®çš„æ˜¯ä¸ºäº†ä½¿æ¨¡å‹è¿›ä¸€æ­¥ç¬¦åˆäººç±»åå¥½ã€æé«˜æ¨¡å‹å®ç”¨æ€§å’Œæ— å®³æ€§ï¼Œå¹¶ä¼˜åŒ–æ¨ç†èƒ½åŠ›ã€‚å…·ä½“è¿‡ç¨‹ï¼šç»“åˆ reward signals and diverse prompt distributions æ¥è®­æ¨¡å‹ã€‚ å¯¹äºæ¨ç†æ•°æ®ï¼Œæˆ‘ä»¬éµå¾ª R1 - Zero ä¸­æ¦‚è¿°çš„æ–¹æ³•ï¼Œåˆ©ç”¨åŸºäºè§„åˆ™çš„å¥–åŠ±æ¥æŒ‡å¯¼æ•°å­¦ã€ç¼–ç å’Œé€»è¾‘æ¨ç†é¢†åŸŸçš„å­¦ä¹ è¿‡ç¨‹ã€‚å¯¹äºä¸€èˆ¬æ•°æ®ï¼Œæˆ‘ä»¬å€ŸåŠ©å¥–åŠ±æ¨¡å‹æ¥æ•æ‰å¤æ‚å¾®å¦™åœºæ™¯ä¸­çš„äººç±»åå¥½ã€‚æˆ‘ä»¬ä»¥ DeepSeek - V3 çš„æµç¨‹ä¸ºåŸºç¡€ï¼Œé‡‡ç”¨ç±»ä¼¼çš„åå¥½å¯¹å’Œè®­ç»ƒæç¤ºåˆ†å¸ƒã€‚</p> <p><img alt=image-20250331203704445 src=../DeepSeek-R1.assets/image-20250331203704445.png></p> <p><img alt=image-20250331203718375 src=../DeepSeek-R1.assets/image-20250331203718375.png></p> <h2 id=distillation>Distillation<a class=headerlink href=#distillation title="Permanent link">&para;</a></h2> <p>ä¸ºäº†è®©æ›´é«˜æ•ˆçš„å°æ¨¡å‹å…·å¤‡åƒ DeepSeek-R1 é‚£æ ·çš„æ¨ç†èƒ½åŠ›ï¼Œæˆ‘ä»¬æŒ‰ç…§ 2.3.3 èŠ‚æ‰€è¿°ï¼Œä½¿ç”¨é€šè¿‡ DeepSeek-R1 æ•´ç†çš„ 80 ä¸‡ä¸ªæ ·æœ¬ï¼Œç›´æ¥å¯¹ Qwen å’Œ Llama ç­‰å¼€æºæ¨¡å‹è¿›è¡Œå¾®è°ƒã€‚è¿™ç§ç›´æ¥çš„è’¸é¦æ–¹æ³•æ˜¾è‘—æå‡äº†å°æ¨¡å‹çš„æ¨ç†èƒ½åŠ›ã€‚</p> <p>è’¸é¦è¿‡ç¨‹åªè¿›è¡ŒSFTï¼Œä¸åŒ…æ‹¬RLã€‚å¤§æ¨¡å‹åœ¨ RL é˜¶æ®µå¯èƒ½å‡ºç°è®¸å¤šé«˜é˜¶æ¨ç†æ¨¡å¼ã€‚è€Œå°æ¨¡å‹å› ä¸ºå®¹é‡å’Œè¡¨ç¤ºèƒ½åŠ›æœ‰é™ï¼Œå¾ˆéš¾åœ¨æ— ç›‘ç£æˆ–çº¯ RL æƒ…å¢ƒä¸‹å­¦åˆ°ç›¸ä¼¼æ°´å¹³çš„æ¨ç†æ¨¡å¼ã€‚</p> <p>è’¸é¦å¯å°†ã€Œå¤§æ¨¡å‹çš„æ¨ç†è½¨è¿¹ã€ç›´æ¥è½¬ç§»ç»™å°æ¨¡å‹ï¼Œå°æ¨¡å‹åªéœ€è¦æ¨¡ä»¿å¤§æ¨¡å‹ç›¸å¯¹å®Œå¤‡çš„æ¨ç†æµç¨‹ï¼Œå¯ä»¥åœ¨è¾ƒå°è®­ç»ƒ/æ¨ç†å¼€é”€ä¸‹å–å¾—è¿œèƒœäºè‡ªèº«ç‹¬ç«‹å¼ºåŒ–å­¦ä¹ çš„æ•ˆæœã€‚</p> <h2 id=discussiondistillation-vs-rl>Discussionï¼šDistillation vs RL<a class=headerlink href=#discussiondistillation-vs-rl title="Permanent link">&para;</a></h2> <p>é€šè¿‡å¯¹ DeepSeek-R1 è¿›è¡Œè’¸é¦ï¼Œå°æ¨¡å‹èƒ½å¤Ÿå–å¾—ä»¤äººç©ç›®çš„æˆæœã€‚ç„¶è€Œï¼Œä»ç„¶å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ä¸è¿›è¡Œè’¸é¦çš„æƒ…å†µä¸‹ï¼Œå°æ¨¡å‹èƒ½å¦é€šè¿‡æœ¬æ–‡æ‰€è®¨è®ºçš„å¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ è®­ç»ƒè¾¾åˆ°ä¸ä¹‹ç›¸å½“çš„æ€§èƒ½å‘¢ï¼Ÿ</p> <p>ä½¿ç”¨æ•°å­¦ã€ç¼–ç å’Œç§‘å­¦ã€æŠ€æœ¯ã€å·¥ç¨‹å’Œæ•°å­¦ï¼ˆSTEMï¼‰é¢†åŸŸçš„æ•°æ®ï¼Œå¯¹ Qwen-32B-Base æ¨¡å‹è¿›è¡Œå¤§è§„æ¨¡çš„å¼ºåŒ–å­¦ä¹ è®­ç»ƒï¼Œè®­ç»ƒæ­¥æ•°è¶…è¿‡ 10k steps ï¼Œå¾—åˆ° DeepSeek-R1-Zero-Qwen-32B æ¨¡å‹ï¼Œè¯¥æ¨¡å‹æ˜æ˜¾æ€§èƒ½æ¯”ä¸è¿‡ä» DeepSeek-R1è’¸é¦å‡ºæ¥çš„ DeepSeek-R1-Distill-Qwen-32B æ¨¡å‹ã€‚</p> <p>ç”±æ­¤ï¼Œå¾—åˆ°ç»“è®ºï¼š</p> <ol> <li>å°†æ›´å¼ºå¤§çš„æ¨¡å‹è¿›è¡Œè’¸é¦ä»¥å¾—åˆ°è¾ƒå°çš„æ¨¡å‹èƒ½äº§ç”Ÿå‡ºè‰²çš„æ•ˆæœï¼Œè€Œè¾ƒå°çš„æ¨¡å‹ä¾é æœ¬æ–‡ä¸­æåˆ°çš„å¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ åˆ™éœ€è¦å·¨å¤§çš„è®¡ç®—èƒ½åŠ›ï¼Œç”šè‡³å¯èƒ½éƒ½ <strong>æ— æ³•è¾¾åˆ°</strong> è’¸é¦æ‰€å¸¦æ¥çš„æ€§èƒ½æ°´å¹³</li> <li>è™½ç„¶è’¸é¦ç­–ç•¥æ—¢ç»æµåˆæœ‰æ•ˆï¼Œä½†è¦çªç ´æ™ºèƒ½çš„ç•Œé™ï¼Œå¯èƒ½ä»éœ€è¦æ›´å¼ºå¤§çš„åŸºç¡€æ¨¡å‹å’Œæ›´å¤§è§„æ¨¡çš„å¼ºåŒ–å­¦ä¹ ã€‚</li> </ol> <link rel=stylesheet href=/css/counter.css> <!-- Giscus --> <h2 id=__comments>è¯„è®º</h2> <!-- è¿™é‡Œæ”¹æˆä½ çš„Giscusä»£ç  --> <script src=https://giscus.app/client.js data-repo=HobbitQia/notebook data-repo-id=R_kgDOHtZjDg data-category=General data-category-id=DIC_kwDOHtZjDs4CQZ7Z data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=zh-CN crossorigin=anonymous async>
</script> <!-- Reload on palette change --> <script>
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object")
        if (palette.color.scheme === "slate") {
            var giscus = document.querySelector("script[src*=giscus]")
            giscus.setAttribute("data-theme", "dark")
        }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> å›åˆ°é¡µé¢é¡¶éƒ¨ </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 ~ now | ğŸš€ Chen Wu (ShiSe) </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../../js/baidu-tongji.js></script> <script src=../../js/katex.js></script> <script src=../../js/mathjax.js></script> <script src=https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script> </body> </html>